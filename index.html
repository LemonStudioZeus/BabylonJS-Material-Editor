<!DOCTYPE html>

<html lang="en" data-framework="typescript">
<head>
    <meta charset="utf-8" />
    <title>BabylonJS Material Editor</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="vendor/ui-color-picker.css" type="text/css" />
    <link rel="stylesheet" href="vendor/slider.css" type="text/css" />
    <link rel="stylesheet" href="css/main.css" type="text/css" />
    <script src="vendor/babylonjs-2.0.0-alpha-debug.js"></script>
    <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular.min.js"></script>
    <script src="https://code.angularjs.org/1.3.8/angular-touch.min.js"></script>
    <script src="vendor/ui-bootstrap.js"></script>
    <script src="vendor/ui-color-picker.js"></script>
    <script src="vendor/slider.js"></script>
    <script src="application.js"></script>
</head>
<body>
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">BabylonJS Material Editor</a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                
            </div>
        </div>
    </nav>
    <div class="container">
        <div class="row">
            <div class="col-md-8">
                <div class="row" ng-controller="MaterialController as materialController">
                    <div class="col-md-12 alphaDiv">

                    </div>
                    <div class="col-md-12">
                        <div class="btn-group">
                            <label class="btn btn-primary" ng-model="material.wireframe" btn-checkbox>Wireframe</label>
                            <label class="btn btn-primary" ng-model="material.pointsCloud" btn-checkbox>Points</label>
                            <label class="btn btn-primary" ng-model="material.backFaceCulling" btn-checkbox>Back Face Culling</label>
                            <label class="btn btn-primary" ng-model="material.useAlphaFromDiffuseTexture" btn-checkbox>Alpha From Diffuse Texture</label>
                            <label class="btn btn-primary" ng-model="material.useSpecularOverAlpha" btn-checkbox>Specular Over Alpha</label>
                            <!--<label class="btn btn-primary" ng-click="materialController.toFlat()">To Flat</label>-->
                        </div>
                    </div>
                    <div class="col-md-12 alphaDiv">
                        <tabset>
                            <tab ng-repeat="section in sectionNames" heading="{{section.charAt(0).toUpperCase() + section.slice(1)}}" active="tab.active" disabled="tab.disabled">
                                <div class="col-md-12 alphaDiv" ng-show="materialSections[section].hasColor">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <h4>Color</h4>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="input-group">
                                                <input colorpicker class="form-control" ng-model="materialSections[section].color.hex" ng-model-options="{ getterSetter: true }" type="text">
                                                <div class="input-group-addon" ng-style="{'background-color': materialSections[section].color.hex()}"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6" ng-show="section=='specular'">
                                            <h4>Speclar Power</h4>
                                        </div>
                                        <div class="col-md-6" ng-show="section=='specular'">
                                            <input type="number" class="form-control" placeholder="Speclar Power" ng-model="material.specularPower">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12 alphaDiv" ng-show="materialSections[section].hasFrensel">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <h4>Frensel Parameters</h4>
                                        </div>
                                        <div class="col-md-6">
                                            <button type="button" class="btn pull-right" disable-enable-button ng-model="materialSections[section].frensel.frenselVariable.isEnabled" btn-checkbox btn-checkbox-true="true" btn-checkbox-false="false">
                                            </button>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="row" collapse="!materialSections[section].frensel.frenselVariable.isEnabled">
                                                <div class="col-md-6">
                                                    <form class="form-horizontal" role="form">
                                                        <div class="form-group">
                                                            <label class="col-sm-6">Left Color</label>
                                                            <div class="col-sm-6">
                                                                <div class="input-group">
                                                                    <input colorpicker class="form-control" ng-model="materialSections[section].frensel.leftColor.hex" ng-model-options="{ getterSetter: true }" type="text">
                                                                    <div class="input-group-addon" ng-style="{'background-color': materialSections[section].frensel.leftColor.hex()}"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="col-sm-6">Bias</label>
                                                            <div class="col-sm-6">
                                                                <slider ng-model="materialSections[section].frensel.frenselVariable.bias"
                                                                        floor="0"
                                                                        ceiling="1"
                                                                        step="0.01"
                                                                        precision="2">
                                                                </slider>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                                <div class="col-md-6">
                                                    <form class="form-horizontal" role="form">
                                                        <div class="form-group">
                                                            <label class="col-sm-6">Right Color</label>
                                                            <div class="col-sm-6">
                                                                <div class="input-group">
                                                                    <input colorpicker class="form-control" ng-model="materialSections[section].frensel.rightColor.hex" ng-model-options="{ getterSetter: true }" type="text">
                                                                    <div class="input-group-addon" ng-style="{'background-color': materialSections[section].frensel.rightColor.hex()}"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="col-sm-6">Power</label>
                                                            <div class="col-sm-6">
                                                                <input type="number" class="form-control" placeholder="Power" ng-model="materialSections[section].frensel.frenselVariable.power">
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12 alphaDiv" ng-show="materialSections[section].hasTexture">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <h4>Texture</h4>
                                        </div>
                                        <div class="col-md-6">
                                            <button type="button" class="btn pull-right" disable-enable-button ng-model="materialSections[section].texture.enabled" ng-model-options="{ getterSetter: true }" btn-checkbox btn-checkbox-true="1" btn-checkbox-false="0">
                                            </button>
                                        </div>
                                        <div class="col-md-12" ng-show="materialSections[section].texture._isEnabled">
                                            <div class="row">
                                                <div class="col-md-4">
                                                    <texture-image tex="materialSections[section].texture" on-update-texture="updateTexture($name)"></texture-image>
                                                </div>
                                                <div class="col-md-8" ng-show="materialSections[section].texture.init">
                                                    <div class="col-md-12" ng-show="section=='reflection'">
                                                        <h4>Coordinates Mode</h4>
                                                        <div class="btn-group" role="group" aria-label="...">
                                                            <button type="button" ng-model="materialSections[section].texture.coordinatesMode" ng-model-options="{ getterSetter: true }" btn-radio="0" class="btn btn-default">Explicit</button>
                                                            <button type="button" ng-model="materialSections[section].texture.coordinatesMode" ng-model-options="{ getterSetter: true }" btn-radio="1" class="btn btn-default">Spherical</button>
                                                            <button type="button" ng-model="materialSections[section].texture.coordinatesMode" ng-model-options="{ getterSetter: true }" btn-radio="2" class="btn btn-default">Planar</button>
                                                            <button type="button" ng-model="materialSections[section].texture.coordinatesMode" ng-model-options="{ getterSetter: true }" btn-radio="3" class="btn btn-default" disabled>Cube(!)</button>
                                                            <button type="button" ng-model="materialSections[section].texture.coordinatesMode" ng-model-options="{ getterSetter: true }" btn-radio="4" class="btn btn-default">Projection</button>
                                                        </div>
                                                        <hr />
                                                    </div>
                                                    <div class="col-md-12">
                                                        <h4>U/V/W Settings</h4>
                                                        <div class="col-md-6">
                                                            <form class="form-horizontal" role="form">
                                                                <div class="form-group">
                                                                    <label class="col-sm-6">U Scale</label>
                                                                    <div class="col-sm-6">
                                                                        <input type="number" class="form-control" placeholder="uScale" ng-model="materialSections[section].texture.textureVariable.uScale">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label class="col-sm-6">V Scale</label>
                                                                    <div class="col-sm-6">
                                                                        <input type="number" class="form-control" placeholder="vScale" ng-model="materialSections[section].texture.textureVariable.vScale">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label class="col-sm-6">U Offset</label>
                                                                    <div class="col-sm-6">
                                                                        <input type="number" class="form-control" placeholder="uOffset" ng-model="materialSections[section].texture.textureVariable.uOffset">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label class="col-sm-6">V Offset</label>
                                                                    <div class="col-sm-6">
                                                                        <input type="number" class="form-control" placeholder="vOffset" ng-model="materialSections[section].texture.textureVariable.vOffset">
                                                                    </div>
                                                                </div>
                                                            </form>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <form class="form-horizontal" role="form">
                                                                <div class="form-group">
                                                                    <label class="col-sm-6">U Angle</label>
                                                                    <div class="col-sm-6">
                                                                        <input type="number" class="form-control" placeholder="U Angle" ng-model="materialSections[section].texture.textureVariable.uAng">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label class="col-sm-6">V Angle</label>
                                                                    <div class="col-sm-6">
                                                                        <input type="number" class="form-control" placeholder="V Angle" ng-model="materialSections[section].texture.textureVariable.vAng">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label class="col-sm-6">Level</label>
                                                                    <div class="col-sm-6">
                                                                        <slider ng-model="materialSections[section].texture.textureVariable.level"
                                                                                floor="0"
                                                                                ceiling="1"
                                                                                step="0.01"
                                                                                precision="2">
                                                                        </slider>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label class="col-sm-6">Coordinates Index</label>
                                                                    <div class="col-sm-6">
                                                                        <input type="number" class="form-control" laceholder="coordinates index" ng-model="materialSections[section].texture.textureVariable.coordinatesIndex">
                                                                    </div>
                                                                </div>

                                                            </form>
                                                        </div>
                                                        <div class="btn-group">
                                                            <label class="btn btn-primary" ng-model="materialSections[section].texture.textureVariable.hasAlpha" btn-checkbox>Has Alpha</label>
                                                            <label class="btn btn-primary" ng-model="materialSections[section].texture.textureVariable.getAlphaFromRGB" btn-checkbox>Get Alpha from RGB</label>
                                                            <label class="btn btn-primary" ng-model="materialSections[section].texture.textureVariable.wrapU" btn-checkbox>Wrap U</label>
                                                            <label class="btn btn-primary" ng-model="materialSections[section].texture.textureVariable.wrapV" btn-checkbox>Wrap V</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </tab>
                        </tabset>
                    </div>
                </div>
            </div>
            <div class="col-md-4" ng-controller="CanvasController as canvasController">
                <div class="row alphaDiv">
                    <div class="col-md-6">
                        <h4>Mesh</h4>
                    </div>
                    <div class="col-md-6 alphaDiv">
                        <select class="form-control" ng-model="canvasController.selectedObjectPosition" ng-options="object.name for object in canvasController.objectTypes" ng-change="canvasController.objectSelected()"></select>
                    </div>       
                </div>
                <!--<div class="row alphaDiv">
                    <div class="col-md-6">
                        <h4>Alpha</h4>
                    </div>
                    <div class="col-md-6 alphaDiv">
                        <slider ng-model="material.alpha"
                                floor="0"
                                ceiling="1"
                                step="0.01"
                                precision="2">
                        </slider>
                    </div>
                </div>-->
                <button class="btn btn-default alphaDiv" ng-click="lightConfigure = !lightConfigure">Configure Light</button>
                <div collapse="lightConfigure">
                    <h4>Light Type</h4>
                    <select class="form-control" ng-model="canvasController.selectedLightType" ng-options="type.name for type in canvasController.lightTypes" ng-change="canvasController.lightTypeChanged()"></select>
                    <div class="row alphaDiv">
                        <div class="col-md-6">
                            <h4>Diffuse Color</h4>
                        </div>
                        <div class="col-md-6">
                            <div class="input-group">
                                <input colorpicker class="form-control" ng-model="lightDiffuseColor.hex" ng-model-options="{ getterSetter: true }" type="text">
                                <div class="input-group-addon" ng-style="{'background-color': lightDiffuseColor.hex()}"></div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <h4>Specular Color</h4>
                        </div>
                        <div class="col-md-6">
                            <div class="input-group">
                                <input colorpicker class="form-control" ng-model="lightSpecularColor.hex" ng-model-options="{ getterSetter: true }" type="text">
                                <div class="input-group-addon" ng-style="{'background-color': lightSpecularColor.hex()}"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <canvas class="alphaDiv" id="renderCanvas"></canvas>
                <button class="btn btn-default alphaDiv" ng-click="canvasController.resetScene()">Reset Scene</button>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <p class="text-muted">Created by Raanan Weber (<a href="https://github.com/raananw/">https://github.com/raananw/</a>), 2014.</p>
        </div>
    </footer>
</body>
</html>
